/*
 * This source file was generated by the Gradle 'init' task
 */
package org.example;
import org.example.values.CannedWalrusFood;
import org.example.values.Walrus;
import org.example.values.WalrusFood;
import org.example.FeedsWalrus;
import org.example.OpensCan;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.*;




public class WalrusTest {
    private Walrus walrus;
    private WalrusFood exampleFood1;
    private WalrusFood exampleFood2;
    private CannedWalrusFood cannedFood1;

  // Setup before each test
    @Before
    public void setup() {
        walrus = new Walrus();
        exampleFood1 = new WalrusFood();
        exampleFood2 = new WalrusFood();
        cannedFood1 = new CannedWalrusFood(exampleFood1);
    }
    
    // 1. Write a test to see how much a Walrus can eat
    @Test
    public void testWalrusCanEatMuchFood() {
        for (int i = 0; i < 100; i++) {
            WalrusFood food = new WalrusFood();
            walrus.addToStomach(food);
            assertTrue( walrus.hasEaten(food));
        }
    }

    // 2. Write a test to check if a Walrus gets the right food
    @Test
    public void testWalrusGetsTheRightFood() {
        walrus.addToStomach(exampleFood1);
        assertTrue( walrus.hasEaten(exampleFood1));
    }

    // 3. Write a test to check opening a can will return food
    @Test
    public void testOpeningCanReturnsFood() {
        OpensCan opensCan = new OpensCan();
        WalrusFood extractedFood = opensCan.open(cannedFood1);
        assertNotNull(extractedFood);
        assertEquals( exampleFood1, extractedFood);
    }

    // 4. Write a test to check on how a Walrus can eat
    @Test
    public void testWalrusCanEatAfterFeeding() {
        FeedsWalrus feeder = new FeedsWalrus();
        feeder.feed(walrus, cannedFood1);
        assertTrue("Walrus should have eaten the given food", walrus.hasEaten(exampleFood1));
    }

    // 5. Write a test making a Walrus accept non-Walrus food
    // No animals were harmed during this exercise
    @Test
    public void testWalrusAcceptsNonWalrusFood() {
        class OtherFood extends WalrusFood {}

        OtherFood NonWalrusFood = new OtherFood();
        walrus.addToStomach(NonWalrusFood);
        assertTrue( walrus.hasEaten(NonWalrusFood));
    }

}
